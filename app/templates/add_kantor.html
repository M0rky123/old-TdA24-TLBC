<!-- templates/add_kantor.html -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../static/css/testing.css">
  <title>Add Kantor</title>
</head>
<body>
  <h1>Add Kantor</h1>
  <form action="{{ url_for('api/lecturers') }}" method="post">
    <label for="title_before">Title Before:</label>
    <input type="text" name="title_before" required><br>

    <label for="name">Name:</label>
    <input type="text" name="name" required><br>

    <label for="middle_name">Middle Name:</label>
    <input type="text" name="middle_name"><br>

    <label for="surname">Surname:</label>
    <input type="text" name="surname" required><br>

    <label for="title_after">Title After:</label>
    <input type="text" name="title_after"><br>

    <label for="picture_url">Profile Picture URL:</label>
    <input type="text" name="picture_url"><br>

    <label for="price">Price:</label>
    <input type="text" name="price" required><br>

    <label for="location">Location:</label>
    <input type="text" name="location" required><br>

    <label for="claim">Claim:</label>
    <input type="text" name="claim" required><br>

    <label for="bio">Bio:</label>
    <textarea name="bio" rows="4" required></textarea><br>

    <label for="email">Email:</label>
    <input type="email" name="email" required><br>

    <label for="phone">Phone:</label>
    <input type="text" name="phone" required><br>

    <div id="list1" class="dropdown-check-list" tabindex="100">
      <span class="anchor">Select Tags</span>
      <ul class="items">
        {% for option in existing_tags %}
          <li><input value="{{ option[1] }}" type="checkbox" />{{ option[1] }} </li>
        {% endfor %}
      </ul>
    </div>

    <ul>
      {% for item in items %}
      <li>{{ item }}</li>
      {% endfor %}
    </ul>

    <button type="submit">Add to Database</button>
  </form>




  <script>
  var checkList = document.getElementById('list1');
    checkList.getElementsByClassName('anchor')[0].onclick = function(evt) {
      if (checkList.classList.contains('visible'))
        checkList.classList.remove('visible');
      else
        checkList.classList.add('visible');
    }

    document.addEventListener('DOMContentLoaded', function () {
        // Add an event listener to the parent element
        var dropdownCheckList = document.getElementById('list1');
        dropdownCheckList.addEventListener('change', function (event) {
            if (event.target.type === 'checkbox') {
                // Create an array to store the checkbox values
                var selectedValues = [];

                // Get all checkboxes inside the parent element
                var checkboxes = dropdownCheckList.querySelectorAll('input[type="checkbox"]');

                // Iterate through all checkboxes
                checkboxes.forEach(function (checkbox) {
                    // If the checkbox is checked, add its value to the array
                    if (checkbox.checked) {
                        selectedValues.push(checkbox.value);
                    }
                });

                // Log the array to the console (you can do whatever you want with this array)
                console.log(selectedValues);
            }
        });
    });
  </script>
  
</body>
</html>